# С��мейный Финансовый Менеджер - Руководство для разработчиков

## Описание проекта

Этот проект представляет собой веб-приложение для управления семейными финансами. Он разработан с использованием FastAPI для серверной части и MongoDB для хранения данных.

## Структура проекта

- `scr/main.py`: Основной файл приложения, который запускает сервер FastAPI.
- `scr/templates/dashboard.html`: HTML-шаблон для отображения главной страницы.
- `scr/schemas/family_scheme.py`: Схемы данных для семей, пользователей и покупок.
- `scr/tests/test_add_to_group.py`: Тесты для проверки добавления пользователей и покупок в семью.
- `scr/API/main_api.py`: Основной API маршрутизатор для работы с данными семей.
- `scr/auth/auth.py`: Модуль для аутентификации пользователей.

## Описание файлов

### `scr/main.py`
- **Описание**: Запускает сервер FastAPI и настраивает маршруты и middleware.
- **Основные функции**:
  - `serve_dashboard`: Отображает главную страницу.

### `scr/templates/dashboard.html`
- **Описание**: HTML-шаблон для отоб��ажения главной страницы.
- **Основные функции**:
  - Отображение списка семей.
  - Отображение данных выбранной семьи.

### `scr/schemas/family_scheme.py`
- **Описание**: Определяет схемы данных для семей, пользователей и покупок.
- **Основные классы**:
  - `User`: Модель пользователя.
  - `Purchase`: Модель покупки.
  - `Family`: Модель семьи.

### `scr/tests/test_add_to_group.py`
- **Описание**: Тесты для проверки добавления пользователей и покупок в семью.
- **Основные функции**:
  - Создание тестовой семьи, пользователя и покупки.
  - Вставка данных в базу данных.

### `scr/API/main_api.py`
- **Описание**: Основной API маршрутизатор для работы с данными семей.
- **Основные функции**:
  - `get_all_families`: Получение списка всех семей.
  - `get_family`: Получение данных конкретной семьи.
  - `search_family`: Поиск семьи по названию.
  - `get_family_users`: Получение списка пользователей семьи.
  - `get_family_purchases`: Получение списка покупок семьи.

### `scr/auth/auth.py`
- **Описание**: Модуль для аутентификации пользователей.
- **Основные функции**:
  - `create_access_token`: Создание токена доступа.
  - `get_token`: Получение токена из запроса.
  - `get_user_from_token`: Получение пользователя из токена.

## Установка и запуск

1. Клонируйте репозиторий:
    ```sh
    git clone https://github.com/An4nasik/family-finance-manager.git
    cd family-finance-manager
    ```

2. Установите зависимости:
    ```sh
    pip install -r requirements.txt
    ```

3. Запустите сервер:
    ```sh
    uvicorn scr.main:app --reload
    ```

4. Откройте браузер и перейдите по адресу `http://127.0.0.1:8000`.

## Работа с базой данных

Проект использует MongoDB для хранения данных. Подключение к базе данных осуществляется в файле `scr/schemas/family_scheme.py`.

## Тестирование

Для тестирования используйте файл `scr/tests/test_add_to_group.py`. Он содержит тесты для проверки добавления пользователей и покупок в семью.

## Вклад в проект

Если вы хотите внести вклад в проект, пожалуйста, создайте форк репозитория и отправьте pull request с вашими изменениями.

## Лицензия

Этот проект лицензирован под лицензией MIT.